<Row>:
  size_hint_y: None
  Label:
    id: this_label
    text: root.lable_text
    font_size: 70
    color: 1, 1, 1, .5

RootWidget:
  canvas.before:
    Color:
      rgba: .13,.15,.17, 1
    Rectangle:
      pos: self.pos
      size: self.size
  orientation: 'vertical'
  story:story
  entry: entry
  BoxLayout:
    orientation: 'vertical'
    padding: 20
    spacing: 1
    size_hint: 1, 0.3
    ScrollView:
      scroll_y: 0
      scroll_x: 1
      BoxLayout:
        id: story
        size_hint_y: None
        height: self.minimum_height
        orientation: "vertical"

    Label:
      id: entry
      text: '0'
      font_size: 100
      size_hint_y: .4


  GridLayout:
    canvas.before:
      Color:
        rgba: .16,.17,.20, 1
      Rectangle:
        pos: self.pos
        size: self.size
    cols: 5
    size_hint: 1, 0.7
    padding: 3
    spacing: 3
    Button:
      text: '^'
      on_press: root.add_operation(self)
    Button:
      text: ' mod '
      on_press: root.add_operation(self)
    Button:
      text: 'φ(x)'
      on_press: root.add_number(self)
    Button:
      text: 'x-¹'
      on_press: root.add_operation(self)
    Button:
      text: '<-'
      on_press: root.delete(self)

    Button:
      text: '×'
      on_press: root.add_operation(self)
    Button:
      text: '7'
      on_press: root.add_number(self)
    Button:
      text: '8'
      on_press: root.add_number(self)
    Button:
      text: '9'
      on_press: root.add_number(self)
    Button:
      text: 'C'
      on_press: root.clean(self)

    Button:
      text: '÷'
      on_press: root.add_operation(self)
    Button:
      text: '4'
      on_press: root.add_number(self)
    Button:
      text: '5'
      on_press: root.add_number(self)
    Button:
      text: '6'
      on_press: root.add_number(self)
    Button:
      text: 'НОД'
      on_press: root.add_number(self)

    Button:
      text: '+'
      on_press: root.add_operation(self)
    Button:
      text: '1'
      on_press: root.add_number(self)
    Button:
      text: '2'
      on_press: root.add_number(self)
    Button:
      text: '3'
      on_press: root.add_number(self)
    Button:
      text: '( )'
      on_press: root.add_parentheses(self)

    Button:
      text: '-'
      on_press: root.add_operation(self)
    Button:
      text: ','
      on_press: root.add_operation(self)
    Button:
      text: '0'
      on_press: root.add_number(self)
    Button:
      text: '.'
      on_press: root.add_number(self)
    Button:
      text: '='
      background_color: 1, 0.3, 0.1, 1
      on_press: root.result(self)

<Label>:
  max_lines:1
  shorten: True
  shorten_from: 'left'
  halign: 'right'
  valign: 'bottom'
  text_size: self.width, self.height

<Button>:
  background_normal: ''
  background_color: 1, 1, 1, .03
  font_size: 80
  text_size: self.width, self.height
  halign: 'center'
  valign: 'center'
